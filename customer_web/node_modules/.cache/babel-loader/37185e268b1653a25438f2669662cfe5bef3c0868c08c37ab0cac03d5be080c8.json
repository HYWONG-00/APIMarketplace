{"ast":null,"code":"var _s = $RefreshSig$();\nimport api from \"../appwrite/api\";\nimport { useEffect, useReducer } from \"react\";\nexport const FetchState = {\n  FETCH_INIT: 0,\n  FETCH_SUCCESS: 1,\n  FETCH_FAILURE: 2\n};\nexport const useGetUser = () => {\n  _s();\n  const reducer = (state, action) => {\n    switch (action.type) {\n      case FetchState.FETCH_INIT:\n        return {\n          ...state,\n          isLoading: true,\n          isError: false\n        };\n      case FetchState.FETCH_SUCCESS:\n        return {\n          ...state,\n          isLoading: false,\n          isError: false,\n          user: action.payload\n        };\n      case FetchState.FETCH_FAILURE:\n        return {\n          ...state,\n          isLoading: false,\n          isError: true\n        };\n      default:\n        throw new Error();\n    }\n  };\n  const [state, dispatch] = useReducer(reducer, {\n    isLoading: false,\n    isError: true,\n    data: []\n  });\n  useEffect(() => {\n    let didCancel = false;\n    const getTodos = async () => {\n      dispatch({\n        type: FetchState.FETCH_INIT\n      });\n      try {\n        const account = await api.getAccount();\n        if (!didCancel) {\n          dispatch({\n            type: FetchState.FETCH_SUCCESS,\n            payload: account\n          });\n        }\n      } catch (e) {\n        if (!didCancel) {\n          dispatch({\n            type: FetchState.FETCH_FAILURE\n          });\n        }\n      }\n    };\n    getTodos();\n    return () => didCancel = true;\n  }, []);\n  return [state, dispatch];\n};\n_s(useGetUser, \"CoF9jrGXupgH2QrdAzOkxUN9UU0=\");","map":{"version":3,"names":["api","useEffect","useReducer","FetchState","FETCH_INIT","FETCH_SUCCESS","FETCH_FAILURE","useGetUser","_s","reducer","state","action","type","isLoading","isError","user","payload","Error","dispatch","data","didCancel","getTodos","account","getAccount","e"],"sources":["C:/Users/Wong Hui Ying/Downloads/cosmos_api/customer_web/src/hooks/index.js"],"sourcesContent":["import api from \"../appwrite/api\";\n\nimport { useEffect, useReducer } from \"react\";\n\nexport const FetchState = {\n    FETCH_INIT: 0,\n    FETCH_SUCCESS: 1,\n    FETCH_FAILURE: 2,\n};\n\nexport const useGetUser = () => {\n    const reducer = (state, action) => {\n        switch (action.type) {\n            case FetchState.FETCH_INIT:\n                return { ...state, isLoading: true, isError: false };\n            case FetchState.FETCH_SUCCESS:\n                return {\n                    ...state,\n                    isLoading: false,\n                    isError: false,\n                    user: action.payload,\n                };\n            case FetchState.FETCH_FAILURE:\n                return { ...state, isLoading: false, isError: true };\n            default:\n                throw new Error();\n        }\n    };\n\n    const [state, dispatch] = useReducer(reducer, {\n        isLoading: false,\n        isError: true,\n        data: [],\n    });\n\n    useEffect(() => {\n        let didCancel = false;\n        const getTodos = async () => {\n            dispatch({ type: FetchState.FETCH_INIT });\n            try {\n                const account = await api.getAccount();\n                if (!didCancel) {\n                    dispatch({ type: FetchState.FETCH_SUCCESS, payload: account });\n                }\n            } catch (e) {\n                if (!didCancel) {\n                    dispatch({ type: FetchState.FETCH_FAILURE });\n                }\n            }\n        };\n        getTodos();\n        return () => (didCancel = true);\n    }, []);\n\n    return [state, dispatch];\n};"],"mappings":";AAAA,OAAOA,GAAG,MAAM,iBAAiB;AAEjC,SAASC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAE7C,OAAO,MAAMC,UAAU,GAAG;EACtBC,UAAU,EAAE,CAAC;EACbC,aAAa,EAAE,CAAC;EAChBC,aAAa,EAAE;AACnB,CAAC;AAED,OAAO,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC5B,MAAMC,OAAO,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;IAC/B,QAAQA,MAAM,CAACC,IAAI;MACf,KAAKT,UAAU,CAACC,UAAU;QACtB,OAAO;UAAE,GAAGM,KAAK;UAAEG,SAAS,EAAE,IAAI;UAAEC,OAAO,EAAE;QAAM,CAAC;MACxD,KAAKX,UAAU,CAACE,aAAa;QACzB,OAAO;UACH,GAAGK,KAAK;UACRG,SAAS,EAAE,KAAK;UAChBC,OAAO,EAAE,KAAK;UACdC,IAAI,EAAEJ,MAAM,CAACK;QACjB,CAAC;MACL,KAAKb,UAAU,CAACG,aAAa;QACzB,OAAO;UAAE,GAAGI,KAAK;UAAEG,SAAS,EAAE,KAAK;UAAEC,OAAO,EAAE;QAAK,CAAC;MACxD;QACI,MAAM,IAAIG,KAAK,CAAC,CAAC;IACzB;EACJ,CAAC;EAED,MAAM,CAACP,KAAK,EAAEQ,QAAQ,CAAC,GAAGhB,UAAU,CAACO,OAAO,EAAE;IAC1CI,SAAS,EAAE,KAAK;IAChBC,OAAO,EAAE,IAAI;IACbK,IAAI,EAAE;EACV,CAAC,CAAC;EAEFlB,SAAS,CAAC,MAAM;IACZ,IAAImB,SAAS,GAAG,KAAK;IACrB,MAAMC,QAAQ,GAAG,MAAAA,CAAA,KAAY;MACzBH,QAAQ,CAAC;QAAEN,IAAI,EAAET,UAAU,CAACC;MAAW,CAAC,CAAC;MACzC,IAAI;QACA,MAAMkB,OAAO,GAAG,MAAMtB,GAAG,CAACuB,UAAU,CAAC,CAAC;QACtC,IAAI,CAACH,SAAS,EAAE;UACZF,QAAQ,CAAC;YAAEN,IAAI,EAAET,UAAU,CAACE,aAAa;YAAEW,OAAO,EAAEM;UAAQ,CAAC,CAAC;QAClE;MACJ,CAAC,CAAC,OAAOE,CAAC,EAAE;QACR,IAAI,CAACJ,SAAS,EAAE;UACZF,QAAQ,CAAC;YAAEN,IAAI,EAAET,UAAU,CAACG;UAAc,CAAC,CAAC;QAChD;MACJ;IACJ,CAAC;IACDe,QAAQ,CAAC,CAAC;IACV,OAAO,MAAOD,SAAS,GAAG,IAAK;EACnC,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO,CAACV,KAAK,EAAEQ,QAAQ,CAAC;AAC5B,CAAC;AAACV,EAAA,CA7CWD,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}